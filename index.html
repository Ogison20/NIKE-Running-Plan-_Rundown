<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIKE Running Plan æ‹æ”é€šå‘Šå–®</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ğŸš€ã€ä¿®æ­£ 2ã€‘PWA è¨­å®š (è§£æ±ºé‡è¤‡é–‹åˆ†é å•é¡Œ) Start -->
    <!-- é€™æ˜¯ PWA Manifest çš„å…§åµŒç‰ˆæœ¬ï¼Œè¨­å®šè®“ç¶²é ä»¥ç¨ç«‹ App æ¨¡å¼é‹è¡Œ -->
    <link rel="manifest" href="data:application/json;charset=utf-8,%7B%22name%22%3A%22NIKE%20Rundown%22%2C%22short_name%22%3A%22NIKE%20Rundown%22%2C%22description%22%3A%22NIKE%20Running%20Plan%20XIMEN%20RETAIL%20UNBOXING%20%E6%8B%8D%E6%91%84%E6%89%8B%E5%86%8A%22%2C%22start_url%22%3A%22.%2Findex.html%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%23ffffff%22%2C%22theme_color%22%3A%22%23111827%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22https%3A%2F%2Fplacehold.co%2F192x192%2F111827%2Fffffff%3Ftext%3DNIKE%22%2C%22sizes%22%3A%22192x192%22%2C%22type%22%3A%22image%2Fpng%22%7D%2C%7B%22src%22%3A%22https%3A%2F%2Fplacehold.co%2F512x512%2F111827%2Fffffff%3Ftext%3DNIKE%22%2C%22sizes%22%3A%22512x512%22%2C%22type%22%3A%22image%2Fpng%22%7D%5D%7D">
    <!-- iOS å°ˆç”¨è¨­å®š -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="NIKE Rundown">
    <!-- ğŸš€ã€ä¿®æ­£ 2ã€‘PWA è¨­å®š End -->
    
    <!-- è¨­å®šå­—é«”èˆ‡å¤–è§€ -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+TC:wght=400;700&display=swap');
        
        /* æ»¾å‹•å•é¡Œä¿®æ­£ */
        html, body {
            height: 100%;
            overflow: hidden;
        }
        
        body {
            font-family: 'Noto Sans TC', 'Inter', sans-serif;
            background-color: #f4f7f9;
        }
        /* è‡ªå®šç¾©æ»¾å‹•æ¢æ¨£å¼ */
        .scrollable-content::-webkit-scrollbar {
            width: 4px;
        }
        .scrollable-content::-webkit-scrollbar-thumb {
            background-color: #9ca3af;
            border-radius: 20px;
        }
        /* åœ–ç‰‡é»æ“Šæ”¾å¤§æ•ˆæœ (ç°¡å–®ç‰ˆ) */
        .zoomable-img:active {
            transform: scale(1.5);
            transition: transform 0.2s;
            z-index: 50;
        }
    </style>
</head>
<!-- å°‡ body é¡åˆ¥ä¸­çš„ min-h-screen é…åˆ flex-col ç§»é™¤ï¼Œè®“ height: 100% ç”Ÿæ•ˆ -->
<body class="flex flex-col antialiased">

    <!-- ä¸»å®¹å™¨ - æ›´æ”¹ h-screen ç‚º h-fullï¼Œç¢ºä¿å®ƒä½”æ»¿ Body çš„ 100% é«˜åº¦ -->
    <div id="app" class="flex flex-col w-full max-w-lg mx-auto bg-white shadow-xl h-full">

        <!-- é ‚éƒ¨æ¨™é¡Œ -->
        <header class="p-4 bg-gray-900 text-white shadow-lg rounded-b-xl sticky top-0 z-10">
            <h1 class="text-xl font-bold tracking-tight">NIKE Running Plan è¥¿é–€ç´…æ¨“</h1>
            <p class="text-xs opacity-75 mt-1">XIMEN RETAIL UNBOXING æ‹æ”æ‰‹å†Š</p>
        </header>

        <!-- é ç±¤å°èˆª -->
        <nav class="sticky top-[73px] bg-white border-b border-gray-200 z-10 shadow-md">
            <div class="flex text-xs font-medium text-center text-gray-500">
                <button data-tab="callsheet" class="tab-btn flex-1 py-3 border-b-2 border-transparent transition duration-300 hover:text-gray-900 hover:border-gray-300 active-tab">
                    é€šå‘Šè³‡è¨Š
                </button>
                <button data-tab="crew" class="tab-btn flex-1 py-3 border-b-2 border-transparent transition duration-300 hover:text-gray-900 hover:border-gray-300">
                    åœ˜éšŠåå–®
                </button>
                <button data-tab="rundown" class="tab-btn flex-1 py-3 border-b-2 border-transparent transition duration-300 hover:text-gray-900 hover:border-gray-300">
                    æ‹æ”æ™‚ç¨‹
                </button>
                <button data-tab="script" class="tab-btn flex-1 py-3 border-b-2 border-transparent transition duration-300 hover:text-gray-900 hover:border-gray-300">
                    è…³æœ¬è³‡æ–™
                </button>
            </div>
        </nav>

        <!-- å…§å®¹å€åŸŸ - ä½¿ç”¨ flex-grow å’Œ overflow-y-auto ç¢ºä¿åªæœ‰æ­¤è™•æ»¾å‹• -->
        <main class="flex-grow overflow-y-auto p-4 scrollable-content bg-gray-50">

            <!-- 1. é€šå‘Šè³‡è¨Š (Call Sheet) -->
            <div id="callsheet" class="tab-content space-y-4">
                <div class="bg-blue-50 border border-blue-200 p-4 rounded-xl shadow-inner">
                    <h2 class="text-lg font-bold text-blue-800 mb-1">æ‹æ”æ—¥æœŸèˆ‡é›†åˆæ™‚é–“</h2>
                    <p id="shoot-date" class="text-2xl font-extrabold text-gray-900"></p>
                    <p id="crew-call" class="text-sm font-semibold text-blue-700 mt-1"></p>
                </div>

                <div class="card">
                    <h2 class="section-title text-orange-600">ç¾å ´çª—å£è¯çµ¡äºº</h2>
                    <div id="contacts-list" class="space-y-2"></div>
                </div>

                <div class="card">
                    <h2 class="section-title text-green-600">åœ°é»è³‡è¨Š</h2>
                    <div id="location-list" class="space-y-4"></div>
                </div>
            </div>

            <!-- 2. åœ˜éšŠåå–® (Crew List) -->
            <div id="crew" class="tab-content hidden">
                <div id="crew-list" class="space-y-3"></div>
            </div>

            <!-- 3. æ‹æ”æ™‚ç¨‹ (Rundown) -->
            <div id="rundown" class="tab-content hidden">
                <div class="border-l-4 border-gray-300 pl-4 space-y-6" id="rundown-timeline"></div>
            </div>

            <!-- 4. è…³æœ¬è³‡æ–™ (Script) -->
            <div id="script" class="tab-content hidden h-full">
                <div class="bg-white p-2 rounded-xl shadow h-[600px] flex flex-col">
                    <h2 class="text-lg font-bold text-gray-800 mb-2 px-2">è…³æœ¬æŠ•å½±ç‰‡ (P.3-5)</h2>
                    <p class="text-xs text-gray-500 mb-2 px-2">è«‹ç›´æ¥åœ¨ä¸‹æ–¹æ»‘å‹•æŸ¥çœ‹ç¬¬ 3 è‡³ 5 é å…§å®¹ã€‚</p>
                    
                    <!-- Google Slides Embed -->
                    <div class="flex-grow relative w-full h-full bg-gray-200 rounded-lg overflow-hidden border border-gray-300">
                        <iframe 
                            src="https://docs.google.com/presentation/d/1gT99KfFqONDAGN_DsG2P6A1k3dLwgNHAhwilGeSQiX0/preview?rm=minimal" 
                            frameborder="0" 
                            width="100%" 
                            height="100%" 
                            allowfullscreen="true" 
                            mozallowfullscreen="true" 
                            webkitallowfullscreen="true">
                        </iframe>
                    </div>
                    
                    <a href="https://docs.google.com/presentation/d/1gT99KfFqONDAGN_DsG2P6A1k3dLwgNHAhwilGeSQiX0/edit" target="_blank" class="mt-3 block text-center bg-blue-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-blue-700 transition">
                        é–‹å•Ÿå®Œæ•´ Google Slides
                    </a>
                </div>
            </div>

        </main>
    </div>

    <!-- JavaScript è…³æœ¬ -->
    <script>
        // --- è³‡æ–™å®šç¾© ---
        const callSheetData = {
            project: "NIKE Running Planè¥¿é–€ç´…æ¨“",
            date: "2025å¹´12æœˆ1æ—¥ æ˜ŸæœŸä¸€",
            crewCall: "08:45",
            locations: [
                { type: "ç¬¬ä¸€ç¾å ´ (Main Location)", name: "Nike å°šæ™ºè¥¿é–€ç´…æ¨“åº—", address: "è‡ºåŒ—å¸‚è¬è¯å€æˆéƒ½è·¯12è™Ÿ", map: "https://maps.app.goo.gl/MqCHGmqYxj8b3PLeA" },
                { type: "å¦é«®åœ°é» (H/M Location)", name: "Happ.å°æ¨¹å±‹|é¾çœ¼åˆ†é¤¨", address: "è‡ºåŒ—å¸‚è¬è¯å€æˆéƒ½è·¯67è™Ÿ5æ¨“ä¹‹1", map: "https://maps.app.goo.gl/Je89Yo2cxdzaTv1WA" },
                { type: "åœè»Šé» (Parking)", name: "å˜Ÿå˜Ÿæˆ¿å°åŒ—è¥¿é–€ç«™", address: "è‡ºåŒ—å¸‚ä¸­æ­£å€ä¸­è¯è·¯ä¸€æ®µ57è™Ÿåœ°ä¸‹åœè»Šå ´", map: "https://maps.app.goo.gl/VtbLNFpKE6C7XUdy8" },
            ],
            contacts: [
                { name: "æ‰¿æ¾”", phone: "0961-067-886" },
                { name: "Ogison é˜¿æ¨Ÿ", phone: "0975-488-645" }
            ]
        };

        // --- åœ–ç‰‡è¨­å®šå€ ---
        const images = {
            "1.PNG": "./1.PNG",
            "2.PNG": "./2.PNG",
            "3.PNG": "./3.PNG",
            "4.PNG": "./4.PNG",
            "5.PNG": "./5.PNG",
            "6.PNG": "./6.PNG",
            "7.PNG": "./7.PNG",
        };

        // Rundown æ•¸æ“š
        const rundownSchedule = [
            { time: "07:30", event: "è£½ç‰‡çµ„/å¦é«®çµ„æŠµé”å¦é«®åœ°é»", personnel: "å¦é«®çµ„-Lauren / è£½ç‰‡çµ„-Ogison" },
            { time: "08:00", event: "è—äººæŠµé”å¦é«®åœ°é» & æ¢³åŒ– (è‘‰éœç’‡:08:00-09:00 / ä½•å®ˆæ­£:09:00-09:30)", personnel: "NTCæ•™ç·´-ä½•å®ˆæ­£ï¼Jing è‘‰éœç’‡" },
            { time: "08:45", event: "åŠ‡çµ„å¤§éšŠæŠµé”ç¬¬ä¸€ç¾å ´ & Setting", personnel: "è£½ç‰‡çµ„-æ‰¿æ¾” / å°æ¼”çµ„-Jason / æ”å½±çµ„-Enzo/ç‹é€¸ä¸/Harry/ç¿æ‚…" },
            { time: "09:30", event: "è£½ç‰‡çµ„/å¦é«®çµ„/è—äººçµ„è½‰é»è‡³ç¬¬ä¸€ç¾å ´", personnel: "å¦é«®çµ„-Lauren / è£½ç‰‡çµ„-Ogison / NTCæ•™ç·´-ä½•å®ˆæ­£ï¼Jing è‘‰éœç’‡" },
            { time: "09:30", event: "é–‹æ©Ÿ | ç©ºæ™¯æ‹æ” (Runningå€/æ¨“æ¢¯å€/NBYå€)", isImportant: true, personnel: "@ALL", images: [images["1.PNG"]] },
            { time: "10:00", event: "ç‰‡é ­é–‹å ´", personnel: "@ALL", images: [images["2.PNG"]] },
            { time: "10:15", event: "Jing ä»‹ç´¹è·‘é‹ Part (2Få¥³ç”Ÿè·‘é‹å€)", personnel: "@ALL", images: [images["3.PNG"], images["4.PNG"]] },
            { time: "10:40", event: "ä½•å®ˆæ­£ä»‹ç´¹è·‘é‹ Part (1Fç”·ç”Ÿè·‘é‹å€)", personnel: "@ALL", images: [images["5.PNG"]] },
            { time: "11:05", event: "å…©äººNBYå€", personnel: "@ALL", images: [images["6.PNG"]] },
            { time: "11:45", event: "Endingæ‹æ”", personnel: "@ALL", images: [images["7.PNG"]] },
            { time: "12:00", event: "æ’¤æ”¶ / æª¢æŸ¥ç´ æ", isImportant: true, personnel: "@ALL" }
        ];

        const originalCrewList = [
            { group: "NTCæ•™ç·´", name: "Jing è‘‰éœç’‡", callTime: "08:00", location: "å¦é«®åœ°é»", note: "è‡ªè¡Œå‰å¾€" },
            { group: "NTCæ•™ç·´", name: "ä½•å®ˆæ­£", callTime: "08:45", location: "å¦é«®åœ°é»", note: "è‡ªè¡Œå‰å¾€" },
            { group: "å¦é«®çµ„", name: "Lauren", callTime: "07:30", location: "å¦é«®åœ°é»", note: "è‡ªè¡Œå‰å¾€" },
            { group: "è£½ç‰‡çµ„", name: "Ogison", callTime: "07:30", location: "å¦é«®åœ°é»", note: "è‡ªè¡Œå‰å¾€" },
            { group: "è£½ç‰‡çµ„", name: "æ‰¿æ¾”", callTime: "08:45", location: "ç¬¬ä¸€ç¾å ´", note: "å¾Œé™¢è»Š" },
            { group: "å°æ¼”çµ„", name: "Jason", callTime: "08:45", location: "ç¬¬ä¸€ç¾å ´", note: "å¾Œé™¢è»Š" },
            { group: "æ”å½±çµ„", name: "Enzo/ç‹é€¸ä¸/Harry/ç¿æ‚…", callTime: "08:45", location: "ç¬¬ä¸€ç¾å ´", note: "å¾Œé™¢è»Š" }
        ];

        const crewList = originalCrewList.sort((a, b) => a.callTime.localeCompare(b.callTime));

        const timeToColor = {
            "07:30": "border-pink-500",
            "08:00": "border-green-500",
            "08:45": "border-blue-500"
        };
        const ntcColor = "border-yellow-500";

        // --- æ¸²æŸ“å‡½å¼ ---

        function renderCallSheet() {
            document.getElementById('shoot-date').textContent = callSheetData.date;
            document.getElementById('crew-call').textContent = `åŠ‡çµ„é›†åˆæ™‚é–“: ${callSheetData.crewCall}`;
            document.getElementById('contacts-list').innerHTML = callSheetData.contacts.map(contact => `
                <a href="tel:${contact.phone.replace(/-/g, '')}" class="flex items-center justify-between p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:bg-orange-50 transition duration-150">
                    <span class="font-semibold text-gray-800">${contact.name}</span>
                    <span class="flex items-center text-orange-600 font-mono">${contact.phone}<i class="fas fa-phone-alt ml-2"></i></span>
                </a>
            `).join('');
            document.getElementById('location-list').innerHTML = callSheetData.locations.map(loc => `
                <div class="bg-white p-4 rounded-xl shadow border-l-4 ${loc.type.includes('ç¬¬ä¸€ç¾å ´') ? 'border-green-500' : loc.type.includes('å¦é«®') ? 'border-pink-400' : 'border-gray-400'}">
                    <p class="text-xs font-medium ${loc.type.includes('ç¬¬ä¸€ç¾å ´') ? 'text-green-600' : loc.type.includes('å¦é«®') ? 'text-pink-500' : 'text-gray-500'}">${loc.type}</p>
                    <h3 class="text-base font-semibold text-gray-800 mt-1">${loc.name}</h3>
                    <p class="text-sm text-gray-600">${loc.address}</p>
                    <a href="${loc.map}" target="_blank" class="inline-flex items-center mt-3 text-sm font-medium text-blue-600 hover:text-blue-800 transition">
                        æŸ¥çœ‹åœ°åœ–é€£çµ
                    </a>
                </div>
            `).join('');
        }

        function renderRundown() {
            const timelineHtml = rundownSchedule.map((item, index) => {
                const isFinal = index === rundownSchedule.length - 1;
                const isKey = item.isImportant || isFinal;
                const timeColor = isKey ? 'bg-red-500' : 'bg-gray-700';
                const textColor = isKey ? 'text-gray-900 font-semibold' : 'text-gray-700';
                const borderClass = isKey ? 'border-red-500' : 'border-gray-300';
                const personnelTag = item.personnel ? `<div class="text-xs mt-2 pt-2 border-t border-gray-100 text-gray-500"><span class="font-medium text-red-500 mr-1">@</span>${item.personnel}</div>` : '';
                
                let imagesHtml = '';
                if (item.images && item.images.length > 0) {
                    const gridClass = item.images.length > 1 ? 'grid-cols-2' : 'grid-cols-1';
                    imagesHtml = `
                        <div class="mt-3 grid ${gridClass} gap-2">
                            ${item.images.map(img => `
                                <!-- ğŸš€ã€ä¿®æ­£ 1ã€‘åœ–ç‰‡å»¶é²è¼‰å…¥ï¼ŒåŠ é€Ÿé é¢é¡¯ç¤º -->
                                <img src="${img}" loading="lazy" class="zoomable-img w-full h-auto rounded-lg border border-gray-200 object-cover shadow-sm" alt="åƒè€ƒåœ–ç‰‡">
                            `).join('')}
                        </div>
                    `;
                }

                return `
                    <div class="relative pb-8 group">
                        <div class="absolute top-0 -left-1.5 h-full w-0.5 ${isFinal ? '' : 'group-hover:bg-red-400 transition'} bg-gray-200"></div>
                        <div class="absolute top-0 -left-2.5 w-5 h-5 rounded-full ${timeColor} flex items-center justify-center text-xs text-white shadow-md transform group-hover:scale-110 transition duration-200">
                            ${item.time.split(':')[0]}
                        </div>
                        <div class="ml-4 p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition duration-200 border-l-4 ${borderClass}">
                            <div class="text-sm font-bold text-gray-900">${item.time}</div>
                            <p class="text-base mt-1 ${textColor}">${item.event}</p>
                            ${imagesHtml}
                            ${personnelTag}
                        </div>
                    </div>
                `;
            }).join('');
            document.getElementById('rundown-timeline').innerHTML = timelineHtml;
        }

        function renderCrewList() {
            const crewHtml = crewList.map(crew => {
                let colorClass = timeToColor[crew.callTime] || 'border-gray-400';
                if (crew.group === "NTCæ•™ç·´") colorClass = ntcColor;
                const noteBgClass = crew.note.includes('å¾Œé™¢è»Š') ? 'bg-indigo-100 text-indigo-800' : 'bg-green-100 text-green-800';

                return `
                    <div class="flex items-center p-3 bg-white rounded-xl shadow-md border-l-4 ${colorClass}">
                        <div class="w-16 h-16 flex-shrink-0 mr-4 rounded-full bg-gray-100 flex items-center justify-center text-2xl text-gray-500 font-bold overflow-hidden">
                            ${crew.group === 'NTCæ•™ç·´' ? 'NTC' : crew.group.charAt(0)}
                        </div>
                        <div class="flex-grow">
                            <p class="text-xs font-medium text-gray-500">${crew.group}</p>
                            <h3 class="text-lg font-bold text-gray-900">${crew.name}</h3>
                            <div class="flex flex-wrap text-xs mt-1 space-x-2">
                                ${crew.callTime !== 'N/A' ? `<span class="bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">é›†åˆ: ${crew.callTime}</span>` : ''}
                                ${crew.location !== 'N/A' ? `<span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full">${crew.location}</span>` : ''}
                                ${crew.note ? `<span class="${noteBgClass} px-2 py-0.5 rounded-full">${crew.note}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            document.getElementById('crew-list').innerHTML = crewHtml;
        }

        function setupTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active-tab');
                        btn.classList.add('border-transparent');
                    });
                    tabContents.forEach(content => content.classList.add('hidden'));
                    button.classList.add('active-tab');
                    button.classList.remove('border-transparent');
                    document.getElementById(targetTab).classList.remove('hidden');
                });
            });
            document.querySelector('.tab-btn[data-tab="callsheet"]').classList.add('active-tab');
        }

        window.onload = function() {
            renderCallSheet();
            renderRundown();
            renderCrewList();
            setupTabs();
            
            const style = document.createElement('style');
            style.textContent = `
                .card { padding: 16px; background-color: #ffffff; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05); border: 1px solid #e5e7eb; }
                .section-title { font-size: 1.125rem; font-weight: 700; margin-bottom: 0.75rem; padding-bottom: 0.5rem; border-bottom: 2px solid; }
                .active-tab { color: #111827; border-bottom-color: #EF4444; }
            `;
            document.head.appendChild(style);
        };
    </script>
</body>
</html>
